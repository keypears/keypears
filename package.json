{
  "name": "keypears",
  "private": true,
  "packageManager": "pnpm@10.17.0",
  "scripts": {
    "build:packages": "pnpm --filter @keypears/lib build && pnpm --filter @keypears/node build",
    "build:all": "pnpm build:packages && pnpm build:webapp",
    "build:webapp": "docker compose build webapp",
    "webapp:up": "docker compose up --build -d",
    "webapp:down": "docker compose down",
    "webapp:logs": "docker compose logs -f webapp",
    "db:up": "docker compose up postgres-main -d",
    "db:down": "docker compose stop postgres-main",
    "db:reset": "docker compose down postgres-main -v",
    "deploy:login": "aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 299190761597.dkr.ecr.us-east-1.amazonaws.com",
    "deploy:tag": "docker tag keypears-webapp:latest 299190761597.dkr.ecr.us-east-1.amazonaws.com/keypears-webapp:latest",
    "deploy:push": "docker push 299190761597.dkr.ecr.us-east-1.amazonaws.com/keypears-webapp:latest",
    "deploy:verify": "aws ecr describe-images --repository-name keypears-webapp --region us-east-1",
    "deploy:build": "pnpm deploy:login && pnpm build:all && pnpm deploy:tag && pnpm deploy:push && pnpm deploy:verify",
    "deploy:update": "aws ecs update-service --cluster keypears-cluster --service keypears-webapp-task-service-2hw3gtif --force-new-deployment --region us-east-1",
    "deploy:all": "pnpm deploy:login && pnpm build:all && pnpm deploy:tag && pnpm deploy:push && pnpm deploy:update"
  }
}
